{"version":3,"sources":["webpack:///src/app/home/home.page.html","webpack:///src/app/home/home.module.ts","webpack:///src/app/home/mapbox-service.service.ts","webpack:///src/app/home/home.page.scss","webpack:///src/app/home/home.page.ts"],"names":["HomePageModule","imports","forChild","path","component","declarations","MapboxServiceService","http","query","url","get","mapbox","accessToken","pipe","res","features","providedIn","HomePage","mapboxService","addresses","selectedAddress","event","searchTerm","target","value","toLowerCase","length","search_word","subscribe","map","feat","place_name","address","selector","template"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCsBFA,cAAc;AAAA;AAAA,O;;AAAdA,oBAAc,6DAd1B,+DAAS;AACRC,eAAO,EAAE,CACP,4DADO,EAEP,0DAFO,EAGP,0DAHO,EAIP,6DAAaC,QAAb,CAAsB,CACpB;AACEC,cAAI,EAAE,EADR;AAEEC,mBAAS,EAAE;AAFb,SADoB,CAAtB,CAJO,CADD;AAYRC,oBAAY,EAAE,CAAC,mDAAD;AAZN,OAAT,CAc0B,GAAdL,cAAc,CAAd;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCJAM,oBAAoB;AAE/B,sCAAoBC,IAApB,EAAsC;AAAA;;AAAlB,eAAAA,IAAA,GAAAA,IAAA;AAAqB;;AAFV;AAAA;AAAA,sCAInBC,KAJmB,EAIJ;AACzB,gBAAMC,GAAG,GAAG,oDAAZ;AACA,mBAAO,KAAKF,IAAL,CAAUG,GAAV,CAAcD,GAAG,GAAGD,KAAN,GAAc,mCAAd,GACnB,yEAAYG,MAAZ,CAAmBC,WADd,EAENC,IAFM,CAED,2DAAI,UAACC,GAAD,EAAuB;AAC/B,qBAAOA,GAAG,CAACC,QAAX;AACD,aAFK,CAFC,CAAP;AAKD;AAX8B;;AAAA;AAAA,S;;;;gBAhBxB;;;;AAgBIT,0BAAoB,6DAHhC,iEAAW;AACVU,kBAAU,EAAE;AADF,OAAX,CAGgC,GAApBV,oBAAoB,CAApB;;;;;;;;;;;;;;;;AClBb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCQFW,QAAQ;AAEnB,0BAAoBC,aAApB,EAAyD;AAAA;;AAArC,eAAAA,aAAA,GAAAA,aAAA;AAEpB,eAAAC,SAAA,GAAsB,EAAtB;AACA,eAAAC,eAAA,GAAkB,IAAlB;AAH2D;;AAFxC;AAAA;AAAA,iCAOZC,KAPY,EAOA;AAAA;;AACjB,gBAAMC,UAAU,GAAGD,KAAK,CAACE,MAAN,CAAaC,KAAb,CAAmBC,WAAnB,EAAnB;;AACA,gBAAIH,UAAU,IAAIA,UAAU,CAACI,MAAX,GAAoB,CAAtC,EAAyC;AACvC,mBAAKR,aAAL,CACGS,WADH,CACeL,UADf,EAEGM,SAFH,CAEa,UAACb,QAAD,EAAyB;AAClC,qBAAI,CAACI,SAAL,GAAiBJ,QAAQ,CAACc,GAAT,CAAa,UAAAC,IAAI;AAAA,yBAAIA,IAAI,CAACC,UAAT;AAAA,iBAAjB,CAAjB;AACD,eAJH;AAKC,aANH,MAMS;AACL,mBAAKZ,SAAL,GAAiB,EAAjB;AACD;AACJ;AAlBkB;AAAA;AAAA,mCAoBVa,OApBU,EAoBO;AACxB,iBAAKZ,eAAL,GAAuBY,OAAvB;AACA,iBAAKb,SAAL,GAAiB,EAAjB;AACD;AAvBkB;;AAAA;AAAA,S;;;;gBAPZ;;;;AAOIF,cAAQ,6DALpB,gEAAU;AACTgB,gBAAQ,EAAE,UADD;AAETC,gBAAQ,EAAR,kEAFS;;AAAA,OAAV,CAKoB,GAARjB,QAAQ,CAAR","file":"home-home-module-es5.js","sourcesContent":["export default \"<ion-content>\\r\\n<ion-grid>\\r\\n    <ion-row>\\r\\n      <ion-col offset=4 size=4>\\r\\n        <div style=\\\"position: relative\\\">\\r\\n          <ion-searchbar debounce=500 (ionChange)=\\\"search($event)\\\" [value]=\\\"selectedAddress\\\"></ion-searchbar>\\r\\n          <div style=\\\"position: absolute; width: 100%; z-index: 999;\\\">\\r\\n            <ion-list lines=\\\"none\\\" *ngIf=\\\"addresses.length > 0\\\">\\r\\n              <ion-item button *ngFor=\\\"let address of addresses\\\" (click)=\\\"onSelect(address)\\\">\\r\\n                <ion-icon name=\\\"pin\\\"></ion-icon>\\r\\n                {{ address }}\\r\\n              </ion-item>\\r\\n            </ion-list>\\r\\n          </div>\\r\\n        </div>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n  </ion-grid>\\r\\n</ion-content>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport { HomePage } from './home.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild([\r\n      {\r\n        path: '',\r\n        component: HomePage\r\n      }\r\n    ])\r\n  ],\r\n  declarations: [HomePage]\r\n})\r\nexport class HomePageModule {}\r\n","import { Injectable } from '@angular/core';\r\nimport { map } from 'rxjs/operators';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { environment } from 'src/environments/environment';\r\n\r\nexport interface MapboxOutput {\r\n  attribution: string;\r\n  features: Feature[];\r\n  query: [];\r\n}\r\n\r\nexport interface Feature {\r\n  place_name: string;\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class MapboxServiceService {\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  search_word(query: string) {\r\n    const url = 'https://api.mapbox.com/geocoding/v5/mapbox.places/';\r\n    return this.http.get(url + query + '.json?types=address&access_token='\r\n    + environment.mapbox.accessToken)\r\n    .pipe(map((res: MapboxOutput) => {\r\n      return res.features;\r\n    }));\r\n  }\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJob21lLnBhZ2Uuc2NzcyJ9 */\";","import { Component } from '@angular/core';\r\nimport { MapboxServiceService, Feature } from './mapbox-service.service';\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: 'home.page.html',\r\n  styleUrls: ['home.page.scss'],\r\n})\r\nexport class HomePage {\r\n\r\n  constructor(private mapboxService: MapboxServiceService) {}\r\n\r\n  addresses: string[] = [];\r\n  selectedAddress = null;\r\n\r\n  search(event: any) {\r\n    const searchTerm = event.target.value.toLowerCase();\r\n    if (searchTerm && searchTerm.length > 0) {\r\n      this.mapboxService\r\n        .search_word(searchTerm)\r\n        .subscribe((features: Feature[]) => {\r\n          this.addresses = features.map(feat => feat.place_name);\r\n        });\r\n      } else {\r\n        this.addresses = [];\r\n      }\r\n  }\r\n\r\n  onSelect(address: string) {\r\n    this.selectedAddress = address;\r\n    this.addresses = [];\r\n  }\r\n\r\n}\r\n"]}